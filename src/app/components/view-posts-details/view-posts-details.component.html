<app-header [goBack]="true">
  <ng-template #title>
    <span>スレッド</span>
  </ng-template>
</app-header>

<nz-content *ngIf="post && !graphQLErrors.length && !networkError">
  <div class="template-post">
    <app-card-post
      [content]="post.content"
      [createdAt]="post.createdAt"
      [id]="post.id"
      [photoURLs]="post.photoURLs"
      [ownerId]="post.ownerId"
      [owner]="post.owner"
      [repliedPostIds]="post.repliedPostIds"
      [replyPostIds]="post.replyPostIds"
      [tags]="post.tags"
      [updatedAt]="post.updatedAt"
      [isLogged]="isLogged">
    </app-card-post>
  </div>

  <div class="template-message">
    <i class="anticon anticon-up"></i>
  </div>

  <div class="template-editor">
    <app-card-reply-new [repliedPostId]="post.id">
    </app-card-reply-new>
  </div>

  <div class="template-replied-posts">
    <div class="card" *ngFor="let node of repliedPosts">
      <app-card-post
        [content]="node.content"
        [createdAt]="node.createdAt"
        [id]="node.id"
        [photoURLs]="node.photoURLs"
        [ownerId]="node.ownerId"
        [owner]="node.owner"
        [repliedPostIds]="node.repliedPostIds"
        [replyPostIds]="node.replyPostIds"
        [tags]="node.tags"
        [updatedAt]="node.updatedAt"
        [isLogged]="isLogged">
      </app-card-post>
    </div>
  </div>
</nz-content>
