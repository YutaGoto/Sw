<div *ngIf="photoURLs.length" class="photoURLs" nz-row nzType="flex" nzAlign="middle" nzJustify="start">
  <div class="item" nz-col *ngFor="let photoURL of photoURLs">
    <img routerLink="/posts/{{id}}" [src]="photoURL|resize:resize">
  </div>
</div>

<div class="content">
  <ng-container *ngIf="content">
    <p><a routerLink="/posts/{{id}}">{{content}}</a><span class="createdAt">- {{createdAtStr}}</span></p>
  </ng-container>
  <ng-container *ngIf="!content">
    <p><span class="createdAt">- {{createdAtStr}}</span></p>
  </ng-container>
</div>

<div class="actions" nz-row nzType='flex' nzAlign="middle">
  <nz-checkable-tag
    *ngFor="let tag of tags"
    class="tag"
    nz-col
    [nzChecked]="false"
    (click)="onUpdateTag(tag.name)">
    {{tag.name}} {{tag.count}}
  </nz-checkable-tag>

  <button
    *ngIf="isLogged && !isEditNewTag"
    nz-col
    class="edit"
    nz-button
    [nzShape]="nzShape"
    [disabled]="isMutation"
    (click)="editNewTag()">
    <i class="anticon anticon-plus"></i>
  </button>
  <nz-input
    *ngIf="isLogged && isEditNewTag"
    nz-col
    style="width: 140px;"
    [(ngModel)]="newTag"
    [nzReadonly]="isMutation"
    [nzPlaceHolder]="nzPlaceHolder"
    (nzBlur)="onUpdateTag(newTag)">
    <ng-template #prefix>
      <i *ngIf="isMutation" class="anticon anticon-loading anticon-spin"></i>
      <i *ngIf="!isMutation" class="anticon anticon-plus"></i>
    </ng-template>
  </nz-input>

  <!--
  <button
    *ngIf='ownerId'
    class='reply'
    nz-button
    [nzShape]='nzShape'>
    <i class='anticon anticon-delete'></i>
  </button>
  -->

</div>

<div class="reply-content" *ngIf="isOpenReply">
  <nz-card>
    <ng-template #body>
      <p>リプライ機能は開発中です。</p>
    </ng-template>
  </nz-card>
</div>
